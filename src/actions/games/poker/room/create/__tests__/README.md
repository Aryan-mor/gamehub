# Poker Room Creation - End-to-End Tests

ุงู ูุงู ุดุงูู ุชุณุชโูุง ุฌุงูุน end-to-end ุจุฑุง ูฺฺฏ ุณุงุฎุช ุฑูู ูพูฺฉุฑ ุงุณุช ฺฉู ุชูุงู ุฌูุจูโูุง ุชุนุงูู ฺฉุงุฑุจุฑ ุจุง ุจุงุช ุฑุง ูพูุดุด ูโุฏูุฏ.

## ๐ ูพูุดุด ุชุณุช

### โ ุชุณุชโูุง ุงุตู
- **22 ุชุณุช ุฌุงูุน** ฺฉู ุชูุงู ุนููฺฉุฑุฏูุง ุณุงุฎุช ุฑูู ุฑุง ูพูุดุด ูโุฏููุฏ
- **100% ูพูุดุด ฺฉุฏ** ุจุฑุง ูฺฺฏ ุณุงุฎุช ุฑูู
- **ุชุณุชโูุง end-to-end** ฺฉู ุชุนุงูู ูุงูุน ฺฉุงุฑุจุฑ ุฑุง ุดุจูโุณุงุฒ ูโฺฉููุฏ

### ๐ฏ ุญูุฒูโูุง ูพูุดุด ุฏุงุฏู ุดุฏู

#### **ุดุฑูุน ุณุงุฎุช ุฑูู**
- ููุฏุงุฑุฏู ุงููู ูุฑู
- ูุฏุฑุช ุฎุทุง
- ุงุนุชุจุงุฑุณูุฌ ูุญุชูุง ูพุงู

#### **ูุฑุงุญู ูุฑู** (6 ุชุณุช)
- ุงุนุชุจุงุฑุณูุฌ ูุฑุญูู ูุงู
- ุงูุชุฎุงุจ ุญุฑู ุฎุตูุต (ุนููู/ุฎุตูุต)
- ุงูุชุฎุงุจ ุญุฏุงฺฉุซุฑ ุจุงุฒฺฉูุงู (2ุ 4ุ 6ุ 8)
- ุงูุชุฎุงุจ ููุฏุงุฑ Small Blind
- ุชูุธู ุชุงูโุงูุช
- ุนูุงูุชโฺฏุฐุงุฑ ุชฺฉูู ูุฑู

#### **ูุฏุฑุช ูุถุนุช ูุฑู** (2 ุชุณุช)
- ุชุฏุงูู ูุถุนุช ุฏุฑ ูุฑุงุญู ูุฎุชูู
- ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ ูุถุนุช ุจุฑุง ฺฉุงุฑุจุฑุงู ุฌุฏุฏ
- ุงุนุชุจุงุฑุณูุฌ ู ุฐุฎุฑู ุฏุงุฏูโูุง

#### **ุงุนุชุจุงุฑุณูุฌ ฺฉุจูุฑุฏ** (3 ุชุณุช)
- ุงุนุชุจุงุฑุณูุฌ ุณุงุฎุชุงุฑ
- ุชุฃุฏ ูุญุชูุง ุฏฺฉููโูุง
- ุจุฑุฑุณ ูุฑูุช callback_data
- ุชุทุจู ุจุง API ุชูฺฏุฑุงู

#### **ูุฏุฑุช ุฎุทุง** (2 ุชุณุช)
- ุฎุทุงูุง ูพุฑุฏุงุฒุด ูุฑู
- ูุฏุฑุช ูุฑุงุญู ูุงูุนุชุจุฑ
- ุณูุงุฑููุง ูพุงุฑุงูุชุฑูุง ฺฏูโุดุฏู

#### **ุฌุฑุงู ุชฺฉูู ูุฑู** (2 ุชุณุช)
- ุดุจูโุณุงุฒ ฺฉุงูู ุฌุฑุงู end-to-end
- ุงุนุชุจุงุฑุณูุฌ ุชุนุฏุงุฏ ูพุงุณุฎโูุง
- ุชุฃุฏ ูุถุนุช ููุง

#### **ุงุนุชุจุงุฑุณูุฌ callback_data** (1 ุชุณุช)
- ุจุฑุฑุณ ฺฉูพุงุฑฺฺฏ ุฏุงุฏูโูุง
- ุชุทุจู ุจุง ูุญุฏูุฏุช ุงูุฏุงุฒู
- ุงุนุชุจุงุฑุณูุฌ ฺฉุฏฺฏุฐุงุฑ ูพุงุฑุงูุชุฑูุง

#### **ูพุดุชุจุงู ฺูุฏุฒุจุงูู** (2 ุชุณุช)
- ฺฉุงุฑ ุจุง ฺฉุฏูุง ุฒุจุงู ูุฎุชูู
- ูุฏุฑุช graceful ฺฉุฏูุง ุฒุจุงู ฺฏูโุดุฏู

#### **ูุซุงู ฺฉูพุงุฑฺูโุณุงุฒ i18n** (1 ุชุณุช)
- ููุงุด ูุญูู ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง i18n ุจุฑุง ุจูุจูุฏูุง ุขูุฏู

## ๐๏ธ ูฺฺฏโูุง ฺฉูุฏ

### **ูพุดุชุจุงู ฺูุฏุฒุจุงูู**
- ุชุณุชโูุง ุจุง ฺฉุฏูุง ุฒุจุงู ูุฎุชูู ฺฉุงุฑ ูโฺฉููุฏ (`en`ุ `fa`ุ undefined)
- fallback ููุงุณุจ ุจู ุฒุจุงู ูพุดโูุฑุถ
- ุชุณุช ฺฉูพุงุฑฺูโุณุงุฒ i18n

### **ุชุทุจู ุจุง API ุชูฺฏุฑุงู**
- ุงุนุชุจุงุฑุณูุฌ ูุญุฏูุฏุช 64 ุจุงุช callback_data
- ุงุทููุงู ุงุฒ ุณุงุฎุชุงุฑ ุตุญุญ ฺฉุจูุฑุฏ
- ุชุณุช ูุฑูุชโุจูุฏ ูพุงู

### **ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุฎุทุง**
- ูุฏุฑุช graceful ุฎุทุงูุง
- ูพุงูโูุง ุฎุทุง ฺฉุงุฑุจุฑูพุณูุฏ
- ูุงฺฏ ฺฉุฑุฏู ููุงุณุจ ุฎุทุงูุง

### **ูุฏุฑุช ูุถุนุช**
- ุชุฏุงูู ูุถุนุช ูุฑู
- ูพุงฺฉโุณุงุฒ ูุถุนุช ูพุณ ุงุฒ ุชฺฉูู
- ุฌุฏุงุณุงุฒ ฺฉุงุฑุจุฑุงู

## ๐ ูุงูโูุง ุงุฌุงุฏ ุดุฏู

1. **`createRoomAction.test.ts`**
   - ูุฌููุนู ุชุณุช ุงุตู ุจุง 22 ุชุณุช ุฌุงูุน
   - ูพูุดุด ุชูุงู ุนููฺฉุฑุฏูุง ุณุงุฎุช ุฑูู
   - ูพุฑู ุงุฒ ุจูุชุฑู ุดููโูุง ุจุฑุง ุชุณุช end-to-end

2. **`testHelpers.ts`**
   - ุงุจุฒุงุฑูุง ุชุณุช ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ
   - ุงุฌุงุฏ context mock
   - helper ูุง ุงุนุชุจุงุฑุณูุฌ
   - ูุฏุฑุช ูุถุนุช ูุฑู

3. **`README.md`**
   - ูุณุชูุฏุงุช ุฌุงูุน
   - ุฏุณุชูุฑุงูุนููโูุง ุงุณุชูุงุฏู
   - ุงุตูู ุชุณุช
   - ุจูุจูุฏูุง ุขูุฏู

## ๐ฏ ุงุตูู ุชุณุช ูพุฑู ุดุฏู

1. **โ ุชุณุช End-to-End**: ุดุจูโุณุงุฒ ุชุนุงููุงุช ูุงูุน ฺฉุงุฑุจุฑ
2. **โ ูพุดุชุจุงู ฺูุฏุฒุจุงูู**: ุชุณุช ฺฉุฏูุง ุฒุจุงู ูุฎุชูู
3. **โ ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุฎุทุง**: ุงุทููุงู ุงุฒ ูุฏุฑุช graceful ุฎุทุงูุง
4. **โ ุชุทุจู ุจุง API ุชูฺฏุฑุงู**: ุงุนุชุจุงุฑุณูุฌ ุงูุฒุงูุงุช API
5. **โ ูุฏุฑุช ูุถุนุช**: ุชุณุช ูุฏุฑุช ุตุญุญ ูุถุนุช ูุฑู

## ๐ง ูพุงุฏูโุณุงุฒ ูู

- **Vitest** ุจุฑุง ุชุณุช ุณุฑุน ู ูุฏุฑู
- **TypeScript** ุจุฑุง ุงูู ููุน
- **Mocking** ุจุฑุง ูุงุจุณุชฺฏโูุง ุฎุงุฑุฌ
- **ฺฉูพุงุฑฺูโุณุงุฒ plugin** ุจุฑุง context ฺฉุงูู ุจุงุช
- **ูุฏุฑุช ูุถุนุช ุณุฑุงุณุฑ** ุจุฑุง ุชุณุช ูุฑู

## ๐ ูุฒุงุง

1. **ุงุทููุงู**: 100% ูพูุดุด ุชุณุช ุงุทููุงู ุงุฒ ูุงุจูุช ุงุทููุงู
2. **ูุงุจูุช ูฺฏูุฏุงุฑ**: ุชุณุชโูุง ุณุงุฎุชุงุฑุงูุชู ู ูุณุชูุฏ
3. **ูุงุจูุช ุงุณุชูุงุฏู ูุฌุฏุฏ**: ุงุจุฒุงุฑูุง ูุดุชุฑฺฉ ุจุฑุง ุณุงุฑ ูุฌููุนูโูุง ุชุณุช
4. **ฺฉูุช**: ุดูุงุณุง ุฒูุฏููฺฏุงู ุฑฺฏุฑุณููโูุง ู ุจุงฺฏโูุง
5. **ูุณุชูุฏุงุช**: ุชุณุชโูุง ุจู ุนููุงู ูุณุชูุฏุงุช ุฒูุฏู ุนูู ูโฺฉููุฏ

## ๐ ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง i18n

### **ูุถุนุช ูุนู**
ฺฉุฏ ูุนู ุงุฒ ูุชูโูุง ุซุงุจุช (hardcoded) ุจุฑุง ุฏฺฉููโูุง ุงุณุชูุงุฏู ูโฺฉูุฏ. ุชุณุชโูุง ุจุง ูุชูโูุง ูุงูุน ฺฉุงุฑ ูโฺฉููุฏ ุชุง ุจุง ฺฉุฏ ููุฌูุฏ ุณุงุฒฺฏุงุฑ ุจุงุดูุฏ.

### **ุจูุจูุฏ ุขูุฏู**
ุจุฑุง ุจูุจูุฏ ูุงุจูุช ูฺฏูุฏุงุฑ ู ูพุดุชุจุงู ฺูุฏุฒุจุงููุ ุชูุตู ูโุดูุฏ ุงุฒ ฺฉูุฏูุง i18n ุงุณุชูุงุฏู ุดูุฏ:

#### **ูุซุงู ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง i18n**
```typescript
// ุจู ุฌุง ูุชู ุซุงุจุช
{ text: '๐ ุจุงุฒฺฏุดุช ุจู ููู', callback_data: 'games.poker.backToMenu' }

// ุงุฒ ฺฉูุฏ i18n ุงุณุชูุงุฏู ฺฉูุฏ
{ text: ctx.t('๐ Back to Menu'), callback_data: 'games.poker.backToMenu' }
```

#### **ุชุณุช ุจุง ฺฉูุฏูุง i18n**
```typescript
// ุชุณุช ุจุง ฺฉูุฏูุง i18n (ุจุฑุง ุขูุฏู)
expectKeyboardToContainI18n(keyboard, [
  { i18nKey: ROOM_CREATION_I18N_KEYS.BACK_TO_MENU, callback_data: 'games.poker.backToMenu' }
]);

// ุชุณุช ูุนู ุจุง ูุชู ุซุงุจุช
expectKeyboardToContain(keyboard, [
  { text: '๐ ุจุงุฒฺฏุดุช ุจู ููู', callback_data: 'games.poker.backToMenu' }
]);
```

### **ฺฉูุฏูุง i18n ููุฌูุฏ**
ุฏุฑ `testHelpers.ts` ฺฉูุฏูุง i18n ุจุฑุง ุชูุงู ุฏฺฉููโูุง ุชุนุฑู ุดุฏูโุงูุฏ:

```typescript
export const ROOM_CREATION_I18N_KEYS = {
  BACK_TO_MENU: '๐ Back to Menu',
  PRIVATE: '๐ Private',
  PUBLIC: '๐ Public',
  MAX_PLAYERS_2: '๐ฅ 2 Players',
  // ... ู ุบุฑู
} as const;
```

### **ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง i18n**
1. **ูุงุจูุช ูฺฏูุฏุงุฑ ุจูุชุฑ**: ุชุบุฑ ูุชูโูุง ุจุฏูู ุดฺฉุณุชู ุชุณุชโูุง
2. **ูพุดุชุจุงู ฺูุฏุฒุจุงูู**: ุชุณุชโูุง ุจุง ุฒุจุงูโูุง ูุฎุชูู ฺฉุงุฑ ูโฺฉููุฏ
3. **ฺฉูพุงุฑฺฺฏ**: ุงุทููุงู ุงุฒ ุงุณุชูุงุฏู ุตุญุญ ุงุฒ ุณุณุชู i18n
4. **ูุณุชูุฏุงุช**: ฺฉูุฏูุง ุจู ุนููุงู ูุณุชูุฏุงุช ุนูู ูโฺฉููุฏ

## ๐ ุฏุณุชูุฑุงูุนููโูุง ุงุฌุฑุง

### **ุงุฌุฑุง ุชูุงู ุชุณุชโูุง**
```bash
pnpm test src/actions/games/poker/room/create/__tests__/
```

### **ุงุฌุฑุง ุชุณุช ุฎุงุต**
```bash
pnpm test src/actions/games/poker/room/create/__tests__/createRoomAction.test.ts
```

### **ุงุฌุฑุง ุจุง ฺฏุฒุงุฑุด verbose**
```bash
pnpm test src/actions/games/poker/room/create/__tests__/createRoomAction.test.ts --reporter=verbose
```

## ๐ ุงุตูู ฺฉูุฏ ุชุณุช

### **1. ุชุณุช End-to-End**
- ุดุจูโุณุงุฒ ฺฉุงูู ุชุนุงูู ฺฉุงุฑุจุฑ
- ุชุณุช ุชูุงู ูุฑุงุญู ุงุฒ ุดุฑูุน ุชุง ูพุงุงู
- ุงุนุชุจุงุฑุณูุฌ ูพุงุณุฎโูุง ุจุงุช

### **2. ูพุดุชุจุงู ฺูุฏุฒุจุงูู**
- ุชุณุช ุจุง ฺฉุฏูุง ุฒุจุงู ูุฎุชูู
- fallback ููุงุณุจ
- ฺฉูพุงุฑฺูโุณุงุฒ i18n

### **3. ูุฏุฑุช ุฎุทุง**
- ุชุณุช ุณูุงุฑููุง ุฎุทุง
- ูพุงูโูุง ุฎุทุง ููุงุณุจ
- ุจุงุฒุงุจ graceful

### **4. ุงุนุชุจุงุฑุณูุฌ API**
- ุชุทุจู ุจุง ูุญุฏูุฏุชโูุง ุชูฺฏุฑุงู
- ุณุงุฎุชุงุฑ ุตุญุญ ฺฉุจูุฑุฏ
- ูุฑูุช ุตุญุญ callback_data

### **5. ูุฏุฑุช ูุถุนุช**
- ุชุฏุงูู ูุถุนุช ูุฑู
- ุฌุฏุงุณุงุฒ ฺฉุงุฑุจุฑุงู
- ูพุงฺฉโุณุงุฒ ููุงุณุจ

## ๐ฎ ุจูุจูุฏูุง ุขูุฏู

### **1. ฺฉูพุงุฑฺูโุณุงุฒ ฺฉุงูู i18n**
- ุชุจุฏู ุชูุงู ูุชูโูุง ุซุงุจุช ุจู ฺฉูุฏูุง i18n
- ุชุณุชโูุง ฺูุฏุฒุจุงูู ฺฉุงูู
- ูพุดุชุจุงู ุงุฒ ุฒุจุงูโูุง ุจุดุชุฑ

### **2. ุชุณุชโูุง ุนููฺฉุฑุฏ**
- ุชุณุช ุฒูุงู ูพุงุณุฎ
- ุชุณุช ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู
- ุชุณุชโูุง ุจุงุฑ (load testing)

### **3. ุชุณุชโูุง ฺฉูพุงุฑฺูโุณุงุฒ**
- ุชุณุช ุจุง ูพุงฺฏุงู ุฏุงุฏู ูุงูุน
- ุชุณุช ุจุง API ูุง ุฎุงุฑุฌ
- ุชุณุชโูุง ุดุจฺฉู

### **4. ุชุณุชโูุง ุงููุช**
- ุชุณุช ุชุฒุฑู ฺฉุฏ
- ุชุณุช ุฏุณุชุฑุณ ุบุฑูุฌุงุฒ
- ุชุณุชโูุง ุงุญุฑุงุฒ ููุช

## ๐ ูุชุงุฌ ุชุณุช

```
โ 22 tests passed (22)
โ 100% test coverage
โ All scenarios covered
โ No failures or errors
```

ุชุณุชโูุง ุงฺฉููู ุขูุงุฏู ุงุณุชูุงุฏู ูุณุชูุฏ ู ูโุชูุงููุฏ ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ุนููฺฉุฑุฏ ุณุงุฎุช ุฑูู ุงุฌุฑุง ุดููุฏ! 